webpackJsonp([5],{513:function(e,t,r){r(647);var a=r(200)(r(569),r(631),"data-v-abd79ff0",null);e.exports=a.exports},521:function(e,t,r){"use strict";t.a={apidomain:"http://192.168.1.109:8080/Vanguard"}},524:function(e,t,r){e.exports={default:r(527),__esModule:!0}},526:function(e,t,r){"use strict";t.__esModule=!0;var a=r(524),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e,t,r){return t in e?(0,o.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},527:function(e,t,r){r(533);var a=r(65).Object;e.exports=function(e,t,r){return a.defineProperty(e,t,r)}},533:function(e,t,r){var a=r(88);a(a.S+a.F*!r(51),"Object",{defineProperty:r(52).f})},569:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(526),o=r.n(a),i=r(202),s=r.n(i),n=r(521);t.default={data:function(){return{power:!1,name:"",currentPage:1,form:o()({name:"",viewName:"",supplierName:"",salePrice:"",marketPrice:"",isSale:"",type:"",ticketType:"",startTime:"",endTime:"",num:"",orderTime:"",method:"",isCancel:"",notice:"",costInside:"",costOutside:"",remark:"",userType:"",sort:"",priorityType:"",viewId:"",priorityId:"",supplierId:"",customName:"",customId:""},"sort",""),view:[],supplier:[],typeList:[],ticketType:[],priority:[],custom:[],ticketId:"",customName:[],customer:"",customId:""}},created:function(){this.getAddress(),this.details(),this.getPowerId()},methods:{getPowerId:function(){var e=JSON.parse(window.sessionStorage.getItem("powerId"));0==e?this.power=!0:1==e?this.power=!1:2==e?this.power=!0:this.$router.push({path:"/login"})},switch1:function(e){console.log("是否销售 :"+e)},switch2:function(e){},switch3:function(e){},resetForm:function(e){this.$refs[e].resetFields()},getAddress:function(){var e=this;s.a.get(n.a.apidomain+"/product/addUI.action").then(function(t){e.view=t.data.data.view,e.supplier=t.data.data.supplier,e.typeList=t.data.data.typeList,e.ticketType=t.data.data.ticketType,e.priority=t.data.data.priority,e.custom=t.data.data.custom})},details:function(){var e=this;s.a.get(n.a.apidomain+"/product/editUI.action?id="+this.$route.query.id).then(function(t){e.form=t.data.data})},handleChange1:function(e){this.form.viewId=e},handleChange2:function(e){this.form.supplierId=e},handleChange3:function(e){this.ticketId=e},handleChange4:function(e){console.log(e),this.form.ticketType=e},handleChange5:function(e){this.form.priorityId=e},handleChange6:function(e){console.log(e),this.form.customId=e},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"参数错误,请检查后重新输入~~",type:"warning"}),!1;s.a.post(n.a.apidomain+"/product/edit.action?name="+t.form.name+"&viewName="+t.form.viewName+"&salePrice="+t.form.salePrice+"&marketPrice="+t.form.marketPrice+"&startTime="+t.form.startTime+"&endTime="+t.form.endTime+"&num="+t.form.num+"&orderTime="+t.form.orderTime+"&notice="+t.form.notice+"&costInside="+t.form.costInside+"&costOutside="+t.form.costOutside+"&remark="+t.form.remark+"&isSale="+t.form.isSale+"&isCancel="+t.form.isCancel+"&viewId="+t.form.viewId+"&method="+t.form.method+"&sort="+t.form.sort+"&id="+t.form.id).then(function(e){if(t.tableData=e.data.data,t.currentPage=e.data.data.currPage,t.codesID=e.data.code,0===t.codesID)return void t.$message({message:"参数错误,请重试~",type:"warning"});t.$message({message:"添加成功!,请点击最后一页查看新增数据~~",type:"success"}),t.$router.push({path:"./ProductManage",query:{currentPage:t.currentPage}})})})}}}},600:function(e,t,r){t=e.exports=r(87)(!1),t.push([e.i,".form-box[data-v-abd79ff0]{width:50%}.map[data-v-abd79ff0]{width:100%;height:60px;border:1px solid #ccc}.dizhi[data-v-abd79ff0]{line-height:100%}.m-part .mapbox[data-v-abd79ff0]{border:1px solid #ccc;width:100%;height:300px;margin-bottom:10px;float:left}",""])},631:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-time"}),e._v(" 产品信息管理设置")]),e._v(" "),r("el-breadcrumb-item",[e._v("修改")])],1)],1),e._v(" "),r("div",{staticClass:"form-box"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"name",rules:[{required:!0,message:"票名不能为空"}]}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属景区",prop:"viewName",rules:[{required:!0,message:"所属景区不能为空"}]}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange1},model:{value:e.form.viewName,callback:function(t){e.$set(e.form,"viewName",t)},expression:"form.viewName"}},e._l(e.view,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"销售价",prop:"salePrice",rules:[{required:!0,message:"结算价不能为空"}]}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.salePrice,callback:function(t){e.$set(e.form,"salePrice",t)},expression:"form.salePrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"门市价",prop:"marketPrice",rules:[{required:!0,message:"门市价不能为空"}]}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.marketPrice,callback:function(t){e.$set(e.form,"marketPrice",t)},expression:"form.marketPrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否销售",prop:"isSale"}},[r("el-switch",{attrs:{"active-text":"","inactive-text":"","active-color":"#13ce66","inactive-color":"#ccc","active-value":"是","inactive-value":"否"},on:{change:e.switch1},model:{value:e.form.isSale,callback:function(t){e.$set(e.form,"isSale",t)},expression:"form.isSale"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"门票包含张数",prop:"num",rules:[{required:!0,message:"门票包含张数不能为空"}]}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"开始日期",prop:"startTime",rules:[{required:!0,message:"起止日期不能为空"}]}},[r("el-input",{attrs:{type:"date"},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"结束日期",prop:"endTime",rules:[{required:!0,message:"起止日期不能为空"}]}},[r("el-input",{attrs:{type:"date"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"提前购买(小时)",prop:"orderTime",rules:[{required:!0,message:"提前购买小时数不能为空"}]}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.orderTime,callback:function(t){e.$set(e.form,"orderTime",t)},expression:"form.orderTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入园方式",prop:"method",rules:[{required:!0,message:"入园方式不能为空"}]}},[r("el-input",{model:{value:e.form.method,callback:function(t){e.$set(e.form,"method",t)},expression:"form.method"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否可退",prop:"isCancel"}},[r("el-switch",{attrs:{"active-text":"","inactive-text":"","active-color":"#13ce66","inactive-color":"#ccc","active-value":"是","inactive-value":"否"},on:{change:e.switch2},model:{value:e.form.isCancel,callback:function(t){e.$set(e.form,"isCancel",t)},expression:"form.isCancel"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入园须知",prop:"notice",rules:[{required:!0,message:"入园须知不能为空"}]}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.notice,callback:function(t){e.$set(e.form,"notice",t)},expression:"form.notice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"费用包含",prop:"costInside",rules:[{required:!0,message:"费用包含不能为空"}]}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.costInside,callback:function(t){e.$set(e.form,"costInside",t)},expression:"form.costInside"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"费用不包含",prop:"costOutside",rules:[{required:!0,message:"费用不包含不能为空"}]}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.costOutside,callback:function(t){e.$set(e.form,"costOutside",t)},expression:"form.costOutside"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"产品特征",prop:"remark",rules:[{required:!0,message:"备注不能为空"}]}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"产品排序",prop:"sort",rules:[{required:!0,message:"产品排序不能为空"}]}},[r("el-input",{attrs:{type:"number",placeholder:"请输入0,1,2,3...的数字,数字越小级别越高"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"",prop:"viewId"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("提 交")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重 置")])],1)],1)],1)])},staticRenderFns:[]}},647:function(e,t,r){var a=r(600);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(201)("bac727b8",a,!0)}});